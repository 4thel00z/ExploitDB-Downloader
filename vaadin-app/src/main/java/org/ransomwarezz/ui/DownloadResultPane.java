package org.ransomwarezz.ui;

import com.vaadin.ui.Grid;
import com.vaadin.ui.Label;
import com.vaadin.ui.Layout;
import com.vaadin.ui.VerticalLayout;
import com.vaadin.ui.themes.ValoTheme;
import org.ransomwarezz.entities.DownloadResult;
import org.ransomwarezz.ui.behaviours.Renderable;
import org.ransomwarezz.ui.presenters.Presenter;

import java.util.List;

import static org.ransomwarezz.utils.Units.PARENT;

/**
 * Created by moe on 13/07/17.
 */
public class DownloadResultPane implements Renderable, Presenter<DownloadResult> {

    private Grid<DownloadResult> downloadResultGrid;
    private Label headline = new Label("3. Downloadresults");
    private VerticalLayout container;


    public DownloadResultPane() {
        setup();
    }

    private void setup() {
        setupGrid();
        setupHeadline();
    }

    private void setupHeadline() {
        headline.setStyleName(ValoTheme.LABEL_H1);
    }


    private void setupGrid() {
        downloadResultGrid = new Grid<>(DownloadResult.class);
        downloadResultGrid.setWidth(PARENT);
        downloadResultGrid.setSelectionMode(Grid.SelectionMode.NONE);
    }

    public void setItems(List<DownloadResult> results) {
        this.downloadResultGrid.setItems(results);
    }

    public void show() {
        this.render().setVisible(true);
    }

    public void hide() {
        this.render().setVisible(false);
    }

    @Override
    public Layout render() {
        if (container == null) {
            this.container = new VerticalLayout();
            container.addComponents(headline, downloadResultGrid);
        }
        return container;
    }
}
